# T-Shirt Shop API Documentation

เอกสารสรุป API Endpoints สำหรับโปรเจกต์ T-Shirt Shop

## การยืนยันตัวตน

| Endpoint             | Method | คำอธิบาย                            | Body (JSON)                                                                              |
| -------------------- | ------ | --------------------------------- | ---------------------------------------------------------------------------------------- |
| `/api/register`      | `POST` | ลงทะเบียนผู้ใช้ใหม่                    | `{ "username": "user123", "password": "password123", "confirmPassword": "password123" }` |
| `/api/login`         | `POST` | เข้าสู่ระบบและรับ Token               | `{ "username": "user123", "password": "password123" }`                                   |
| `/api/google-login`  | `POST` | เข้าสู่ระบบด้วย Google credentials    | `{ "credential": "google-id-token" }`                                                    |
| `/api/logout`        | `POST` | ออกจากระบบ (ลบ Token)             | *(None)*                                                                                 |
| `/api/check-session` | `GET`  | ตรวจสอบ session ปัจจุบันและดึงข้อมูลผู้ใช้ | *(None)*                                                                                 |

## โปรไฟล์ผู้ใช้

*Endpoints กลุ่มนี้ต้องการการเข้าสู่ระบบ (`verifyToken`)*

| Endpoint       | Method | คำอธิบาย                                        | Body (JSON)                                                                                                                                                |
| -------------- | ------ | --------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `/api/profile` | `GET`  | ดึงข้อมูลโปรไฟล์ของผู้ใช้ที่เข้าสู่ระบบ                   | *(None)*                                                                                                                                                   |
| `/api/profile` | `PUT`  | อัปเดตข้อมูลโปรไฟล์ของผู้ใช้ที่เข้าสู่ระบบ (ที่อยู่, เบอร์โทร) | `{ "fullName": "...", "phone": "...", "address": { "house_number": "123", "street": "...", "city": "City", "province": "Province", "zipCode": "12345" } }` |

## ที่อยู่

*Endpoints กลุ่มนี้ต้องการการเข้าสู่ระบบ (`verifyToken`)*

| Endpoint       | Method | คำอธิบาย               | Body (JSON)                                                                                                                         |
| -------------- | ------ | -------------------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| `/api/address` | `GET`  | ดึงที่อยู่ของผู้ใช้          | *(None)*                                                                                                                            |
| `/api/address` | `PUT`  | เพิ่มหรืออัปเดตที่อยู่ของผู้ใช้ | `{ "fullName": "...", "house_number": "...", "street": "...", "city": "...", "province": "...", "zipCode": "...", "phone": "..." }` |

## เสื้อ T-Shirt

*Endpoints สำหรับการดูและจัดการเสื้อ T-Shirt*

| Endpoint      | Method | คำอธิบาย                  | Body (JSON)                                                                                                                 |
| ------------- | ------ | ----------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| `/api/shirts` | `GET`  | ดึงรายการเสื้อทั้งหมด        | *(None)*                                                                                                                    |
| `/api/shirts` | `POST` | เพิ่มเสื้อใหม่ (เฉพาะ admin) | `{ "shirt_name": "Cool T-shirt", "shirt_size": "M", "shirt_color": "Red", "shirt_price": 199, "shirt_image": "image-url" }` |

## ตะกร้าสินค้า

*Endpoints กลุ่มนี้ต้องการการเข้าสู่ระบบ (`verifyToken`)*

| Endpoint           | Method   | คำอธิบาย                         | Body (JSON)                                   |
| ------------------ | -------- | ------------------------------ | --------------------------------------------- |
| `/api/cart`        | `GET`    | ดึงรายการสินค้าทั้งหมดในตะกร้าของผู้ใช้ | *(None)*                                      |
| `/api/add-to-cart` | `POST`   | เพิ่มเสื้อ T-shirt ลงในตะกร้า       | `{ "shirtId": 1, "size": "M", "price": 199 }` |
| `/api/cart/:id`    | `DELETE` | ลบสินค้าออกจากตะกร้า              | *(None)*                                      |

## ผู้ดูแลระบบ (Admin)

*Endpoints กลุ่มนี้ต้องการการเข้าสู่ระบบเป็นผู้ดูแลระบบ (`verifyToken` และการตรวจสอบบทบาทเป็น admin)*

| Endpoint                | Method   | คำอธิบาย                    | Body (JSON)                                                                                                      |
| ----------------------- | -------- | ------------------------- | ---------------------------------------------------------------------------------------------------------------- |
| `/api/admin/shirts`     | `GET`    | ดึงรายการเสื้อทั้งหมดสำหรับจัดการ | *(None)*                                                                                                         |
| `/api/admin/shirts/:id` | `PUT`    | แก้ไขเสื้อ (เฉพาะ admin)     | `{ "shirt_name": "...", "shirt_size": "...", "shirt_color": "...", "shirt_price": "...", "shirt_image": "..." }` |
| `/api/admin/shirts/:id` | `DELETE` | ลบเสื้อ (เฉพาะ admin)       | *(None)*                                                                                                         |

## ประวัติการสั่งซื้อ

*Endpoints กลุ่มนี้ต้องการการเข้าสู่ระบบ (`verifyToken`)*

| Endpoint      | Method | คำอธิบาย                                | Body (JSON) |
| ------------- | ------ | ------------------------------------- | ----------- |
| `/api/orders` | `GET`  | ดึงประวัติการสั่งซื้อของผู้ใช้ (พร้อมรายการสินค้า) | *(None)*    |

## เส้นทางที่มีการป้องกัน (Protected Routes)

| Endpoint     | Method | คำอธิบาย                                     | Body (JSON) |
| ------------ | ------ | ------------------------------------------ | ----------- |
| `/main.html` | `GET`  | เส้นทางที่ต้องมีการตรวจสอบ JWT ก่อน (ต้องมี Token) | *(None)*    |

---

### ตัวอย่างการตอบกลับ

#### ลงทะเบียนผู้ใช้

```json
{
  "message": "Registration successful!"
}
